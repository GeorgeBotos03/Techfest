<h2>Console – Alerte</h2>
<button (click)="refresh()">Refresh</button>
<div *ngIf="loading">Loading…</div>
<table *ngIf="alerts.length">
    <thead>
        <tr>
            <th>ID</th>
            <th>TS</th>
            <th>Amount</th>
            <th>Channel</th>
            <th>Dst</th>
            <th>Action</th>
            <th>Reasons</th>
            <th>Ops</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let a of alerts">
            <td>{{a.id}}</td>
            <td>{{a.ts | date:'short'}}</td>
            <td>{{a.amount | number:'1.2-2'}} {{a.currency}}</td>
            <td>{{a.channel}}</td>
            <td>{{a.dst_account_iban}}</td>
            <td>{{a.action}}</td>
            <td>
                <ul>
                    <li *ngFor="let r of a.reasons">{{r}}</li>
                </ul>
            </td>
            <td>
                <button (click)="decide(a,'release')">Release</button>
                <button (click)="decide(a,'cancel')">Cancel</button>
            </td>
        </tr>
    </tbody>
</table>
<div *ngIf="!alerts.length && !loading">No alerts yet.</div>